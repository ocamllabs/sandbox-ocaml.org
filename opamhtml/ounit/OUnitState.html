<div class="ocaml_toplevel_module"><div class="info">Manipulate the state of OUnit runner.</div>
<pre><code><span class="TYPEnext_test_case_t"><span class="keyword">type</span> <code class="type">'worker </code>next_test_case_t</span> =  </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTnext_test_case_t.Not_enough_worker"><span class="constructor">Not_enough_worker</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTnext_test_case_t.Try_again"><span class="constructor">Try_again</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTnext_test_case_t.Next_test_case"><span class="constructor">Next_test_case</span></span> <span class="keyword">of</span> <code class="type"><a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=test_fun">OUnitTest.test_fun</a> * 'worker</code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTnext_test_case_t.Finished"><span class="constructor">Finished</span></span></code></td></tr></table>
<pre><span class="TYPEtime"><span class="keyword">type</span> time</span> =  <code class="type">float</code></pre>
<pre><code><span class="TYPEtest_running"><span class="keyword">type</span> <code class="type">'worker </code>test_running</span> =  {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTtest_running.test_length">test_length</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitTest&amp;type=test_length">OUnitTest.test_length</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTtest_running.deadline">deadline</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitState&amp;type=time">time</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTtest_running.next_health_check">next_health_check</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitState&amp;type=time">time</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTtest_running.worker">worker</span> : <code class="type">'worker</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre><code><span class="TYPEt"><span class="keyword">type</span> <code class="type">'worker </code>t</span> =  {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.tests_planned">tests_planned</span> : <code class="type">(<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * (<a href="?package=ounit&amp;module=OUnitTest&amp;type=test_length">OUnitTest.test_length</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=test_fun">OUnitTest.test_fun</a>)) list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.tests_running">tests_running</span> : <code class="type">(<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * 'worker <a href="?package=ounit&amp;module=OUnitState&amp;type=test_running">test_running</a>) list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.tests_passed">tests_passed</span> : <code class="type">(<a href="?package=ounit&amp;module=OUnitTest&amp;type=result_full">OUnitTest.result_full</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=result_list">OUnitTest.result_list</a>) list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.idle_workers">idle_workers</span> : <code class="type">'worker list</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.chooser">chooser</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitChooser&amp;type=chooser">OUnitChooser.chooser</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.cache">cache</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitCache&amp;type=cache">OUnitCache.cache</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.health_check_interval">health_check_interval</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitState&amp;type=time">time</a></code>;</code></td></tr><tr><td>}</td></tr></table>
<pre><span class="VALhealth_check_interval"><span class="keyword">val</span> health_check_interval</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt; float</code></pre>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt;
<a href="?package=ounit&amp;module=OUnitChooser&amp;type=chooser">OUnitChooser.chooser</a> -&gt;
(<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=test_length">OUnitTest.test_length</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=test_fun">OUnitTest.test_fun</a>) list -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALfilter_out"><span class="keyword">val</span> filter_out</span> : <code class="type">'a -&gt; ('a * 'b) list -&gt; ('a * 'b) list</code></pre>
<pre><span class="VALmaybe_dump_cache"><span class="keyword">val</span> maybe_dump_cache</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALadd_test_results"><span class="keyword">val</span> add_test_results</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt;
<a href="?package=ounit&amp;module=OUnitTest&amp;type=result_full">OUnitTest.result_full</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=result_list">OUnitTest.result_list</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALtest_finished"><span class="keyword">val</span> test_finished</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt;
<a href="?package=ounit&amp;module=OUnitTest&amp;type=result_full">OUnitTest.result_full</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=result_list">OUnitTest.result_list</a> -&gt; 'a -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALadd_worker"><span class="keyword">val</span> add_worker</span> : <code class="type">'a -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALremove_idle_worker"><span class="keyword">val</span> remove_idle_worker</span> : <code class="type">'a -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALcount_worker"><span class="keyword">val</span> count_worker</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; int</code></pre>
<pre><span class="VALcount_tests_running"><span class="keyword">val</span> count_tests_running</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; int</code></pre>
<pre><span class="VALget_workers"><span class="keyword">val</span> get_workers</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a list</code></pre>
<pre><span class="VALget_idle_workers"><span class="keyword">val</span> get_idle_workers</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a list</code></pre>
<pre><span class="VALis_idle_worker"><span class="keyword">val</span> is_idle_worker</span> : <code class="type">'a -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; bool</code></pre>
<pre><span class="VALget_tests_running"><span class="keyword">val</span> get_tests_running</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; <a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> list</code></pre>
<pre><span class="VALnext_test_case"><span class="keyword">val</span> next_test_case</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitConf&amp;type=conf">OUnitConf.conf</a> -&gt;
(<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a>, <a href="?package=ounit&amp;module=OUnitTest&amp;type=result">OUnitTest.result</a>) <a href="?package=ounit&amp;module=OUnitLogger&amp;type=logger">OUnitLogger.logger</a> -&gt;
'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=next_test_case_t">next_test_case_t</a> * 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre>
<pre><span class="VALget_results"><span class="keyword">val</span> get_results</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; <a href="?package=ounit&amp;module=OUnitTest&amp;type=result_full">OUnitTest.result_full</a> list</code></pre><div class="info"><div class="info">Get all the results.</div></div>
<pre><span class="VALget_worker_need_health_check"><span class="keyword">val</span> get_worker_need_health_check</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; (<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * 'a) list</code></pre><div class="info"><div class="info">Get all the workers that need to be checked for their health.</div></div>
<pre><span class="VALupdate_test_activity"><span class="keyword">val</span> update_test_activity</span> : <code class="type"><a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; 'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a></code></pre><div class="info"><div class="info">Update the activity of a worker, this postpone the next health check.</div></div>
<pre><span class="VALget_worker_timed_out"><span class="keyword">val</span> get_worker_timed_out</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; (<a href="?package=ounit&amp;module=OUnitTest&amp;type=path">OUnitTest.path</a> * <a href="?package=ounit&amp;module=OUnitTest&amp;type=test_length">OUnitTest.test_length</a> * 'a) list</code></pre><div class="info"><div class="info">Get all the workers that are timed out, i.e. that need to be stopped.</div></div>
<pre><span class="VALtimeout"><span class="keyword">val</span> timeout</span> : <code class="type">'a <a href="?package=ounit&amp;module=OUnitState&amp;type=t">t</a> -&gt; float</code></pre><div class="info"><div class="info">Compute when is the next time, we should either run health check or timeout
    a test.</div></div>
</div>